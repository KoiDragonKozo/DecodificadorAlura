<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=yes, initial-scale=1.0, maximum-scale=10, minimum-scale=1.0">
		<link rel="stylesheet" href="cripto.css">
		<link rel="stylesheet" href="reset.css">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,1,0" />

		<title>Projeto de Criptografia</title>

	</head>
	<header>
			<img src="Vector.png" class="logo">
	</header>
		<body>
				<textarea class="caixaEscrita" required placeholder="Digite seu texto" ></textarea>
				<p class="aviso"><span class="material-symbols-outlined" >info</span>Apenas letras minusculas e sem acento.</p>
				<button class="botaoCripto">Criptografar</button>
				<button class="botãoDescripto">Descriptografar</button>
				<div class="expansao">
					<div class="caixaRet"></div>
					<p class="textoEspelhado"></p>
				</div>
				<button class="copiar">Copiar</button>
				<p class="textoRet_Cima">Nenhum texto foi exibido</p>
				<p class="textoRet_Baixo">Digite um texto que você deseja criptografar ou descriptografar</p>
				<img src="High quality products 1 1.png" class="imagemDecode">
			
			<script>
				var botao = document.querySelector(".botaoCripto");
				var desBotao = document.querySelector(".botãoDescripto")
				var texto_Cima = document.querySelector(".textoRet_Cima");
				var texto_Baixo = document.querySelector(".textoRet_Baixo");
				var imagemDecode = document.querySelector(".imagemDecode");
				var caixaRet = document.querySelector(".caixaRet");
				var input = document.querySelector(".caixaEscrita")
				var textoEspelhado = document.querySelector(".textoEspelhado")
				var codificar = input.value;
				var copiar = document.querySelector(".copiar")
				var tela = window.innerWidth;

				copiar.style.visibility = "hidden"
			

				botao.addEventListener("click", function() {
					var textoDigitado = input.value.trim();
					var textoModificado = textoDigitado.replace(/[eiaou]/g, function(codigo) {
						if (codigo === "e") return "enter";
						if (codigo === "i") return "imes";
						if (codigo === "a") return "ai";
						if (codigo === "o") return "ober";
						if (codigo === "u") return "ufat";
				});
					if (textoDigitado !== "") {
						textoEspelhado.textContent = textoModificado;
						texto_Cima.style.display = "none";
						texto_Baixo.style.display = "none";
						imagemDecode.style.display = "none";
						copiar.style.visibility = "visible"
						copiar.style.justifyContent = "center"; 
  						copiar.style.alignItems = "center";
					}
					

					if (tela <= 767 && textoDigitado !== "") {
						var estiloTextoEspelhado = getComputedStyle(textoEspelhado);
						var alturaTextoEspelhado = parseFloat(estiloTextoEspelhado.height);
						var alturaMax = 350;

						if (alturaTextoEspelhado <= alturaMax) {
							caixaRet.style.height = alturaTextoEspelhado + "px";
						} 
					}

					if (tela <= 768 && textoDigitado !== "") {
						var estiloTextoEspelhado = getComputedStyle(textoEspelhado);
						var alturaTextoEspelhado = parseFloat(estiloTextoEspelhado.height);
						var alturaMax = 350;

						if (alturaTextoEspelhado <= alturaMax) {
							caixaRet.style.height = alturaTextoEspelhado + "px";
						} 
					}
					return textoDigitado

				});
				desBotao.addEventListener("click", function() {
					var textoDigitado = input.value.trim();

					var textoModificado = textoDigitado.replace(/enter|imes|ai|ober|ufat/g, function(codigo) {
						if (codigo === 'enter') return "e";
						if (codigo === "imes") return "i";
						if (codigo === "ai") return "a";
						if (codigo === "ober") return "o";
						if (codigo === "ufat") return "u";
						
					});

					if (textoDigitado !== "") {
						textoEspelhado.textContent = textoModificado;
						texto_Cima.style.display = "none";
						texto_Baixo.style.display = "none";
						imagemDecode.style.display = "none";
						copiar.style.visibility = "visible"
						copiar.style.justifyContent = "center"; 
  						copiar.style.alignItems = "center";
					}

					if (tela <= 767 && textoDigitado !== "") {
						var estiloTextoEspelhado = getComputedStyle(textoEspelhado);
						var alturaTextoEspelhado = parseFloat(estiloTextoEspelhado.height);
						var alturaMax = 350;

						if (alturaTextoEspelhado <= alturaMax) {
							caixaRet.style.height = alturaTextoEspelhado + "px";
						} 
					}

					if (tela <= 768 && textoDigitado !== "") {
						var estiloTextoEspelhado = getComputedStyle(textoEspelhado);
						var alturaTextoEspelhado = parseFloat(estiloTextoEspelhado.height);
						var alturaMax = 350;

						if (alturaTextoEspelhado <= alturaMax) {
							caixaRet.style.height = alturaTextoEspelhado + "px";
						} 
					}
					return textoModificado
				});

				copiar.addEventListener("click", function(){
					var textoCopiado = textoEspelhado.textContent;

					navigator.clipboard.writeText(textoCopiado)
				});
			</script>
		</body>
	<footer></footer>
</html>
